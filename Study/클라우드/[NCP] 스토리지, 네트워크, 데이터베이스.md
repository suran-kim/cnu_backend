# [네이버 클라우드]

Created: 2022년 9월 22일 오후 2:04
Last Edited Time: 2022년 9월 22일 오후 5:57
Type: 실습 교육

# 요약
 
---

# 스토리지

---

`스토리지`가 무엇일까?

보관함, 담는 공간, 저장소

스토리지 종류에 따라 조금씩 차이가 있다. 

오브젝트 스토리지 

나스 

AWS의 오브젝트 스토리지와 네이버의 오브젝트 스토리지는 거의 동일하다.

S3 컨트롤하는 명령어 프로그램이 네이버 오브젝트 스토리지와 완벽하게 호환된다. 

## 스토리지의 종류

---

***오브젝트 스토리지***

 `객체`를 담는다. 

***블록 스토리지***

`블록 단위`로 담는다. 

***아카이브 스토리지*** 

자료가 오랫동안 보관된다. 

***NAS*** 

`네트워크 타입`의 스토리지. 

***Backup*** 

데이터를 다른 곳에 안전하게 보관

## 오브젝트 스토리지 실습

---

`오브젝스 스토리지`에서는 `버킷`을 먼저 생성한다.

`버킷의 이름`은 사용하고 있는 zone에서 유일무이해야한다. 

`버킷`은 공개/비공개 설정이 가능하다. 비공개 시에는 허가받은 사용자만 접근할 수 있다.

`버킷에 올라간 파일`도 따로 공개/비공개 설정을 할 수 있다.

파일 업로드 후 `URL`을 이용해서 언제 어디서든 파일을 다운받거나 읽을 수 있다. 

Ex> 네이버의 클라우드 저장소 `MyBox`

특징

인터넷이 연결된 장소에서 원하는 파일을 다운받을 수 있다.

### ***이미지 업로드 및 공유 설정***

---

![Untitled](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled.png)

컨트롤 쉬프트 엔: 새 시크릿 창

이미지의 링크를 웹에 검색해볼 수 있다. 단, 링크를 크롬에 전송할 때는 접근 권한이 빠진 채로 전송이 된다. 따라서 시크릿 창에 링크를 입력해도 이미지를 볼 수 없다. 

권한을 주는 것도 가능하지만 조금 더 기술적인 지식이 필요하다. 

![시크릿 창에 공유된 링크 입력 ](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%201.png)

시크릿 창에 공유된 링크 입력 

![Untitled](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%202.png)

![Untitled](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%203.png)

이제 다른 사람이 공유된 링크를 통해 이미지를 다운받을 수 있다. 

### *정적 웹 호스팅*

---

오브젝트의 특징으로 인해 오브젝트 스토리지만 할 수 있는 기능이 있다. 바로 웹사이트 제작이다.

홈페이지에는 정적인 홈페이지와 동적인 홈페이지가 존재한다. 백엔드의 가장 큰 이유는 동적인 홈페이지 제작을 위해서이다. 인터렉션(상호작용)이 가능한 홈페이지 제작

여기서는 정적 홈페이지를 호스팅해보겠다. 

깃허브에 들어간다. 깃허브는 버전관리 툴

[https://github.com/StartBootstrap/startbootstrap-scrolling-nav](https://github.com/StartBootstrap/startbootstrap-scrolling-nav)

네이버 클라우드는 폴더 전송이 불가능하다. 따라서 네이버 클라우드 쪽에서 폴더를 만들어서 파일을 올려야 한다. 

실습 파일 구조는 다음과 같다.

```java
assets
	└ favicon.ico
css
	└ styles.css
js
	└ scripts.js
index.html
```

***정적 웹 사이트 호스팅***

![오브젝트 스토리지에 폴더 생성→ 정적 웹 사이트 호스팅을 위한 파일을 올린 상태](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%204.png)

오브젝트 스토리지에 폴더 생성→ 정적 웹 사이트 호스팅을 위한 파일을 올린 상태

![정적 웹 사이트 호스팅 선택](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%205.png)

정적 웹 사이트 호스팅 선택

![인덱스 파일의 기본페이지, 오류 페이지 설정](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%206.png)

인덱스 파일의 기본페이지, 오류 페이지 설정

![생성된 정적 웹 사이트 호스팅 링크를 웹에 검색한 결과](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%207.png)

생성된 정적 웹 사이트 호스팅 링크를 웹에 검색한 결과

만약 오브젝트 스토리지에 올린 .html 파일명이 잘못됐어도 `설정`에서 인덱스 파일의 기본페이지, 오류 페이지를 입력할 때 알맞은 파일명을 넣어줬다면 3번의 결과가 제대로 출력됐을 것이다. 

윈도우에서는 확장자가 굉장히 중요하지만 리눅스 기반 운영체제에서는 큰 의미가 없다. 

로그인 기능이 필요 없고  단순한 웹 사이트의 경우에는 동적 웹 사이트가 아니라 권한관리와 html 파일만 관리하는 것이 필요한 정적 웹 사이트로 진행해도 괜찮기 때문에…?

### 블록 스토리지 추가

---

먼저 서버를 올린다. 

블록 스토리지는 서버에 매칭이 된다. 

![서버에 HDD를 10GB 블록 스토리지를 추가한 결과](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%208.png)

서버에 HDD를 10GB 블록 스토리지를 추가한 결과

HDD의 장점은 가격이 상대적으로 낮고 용량이 크다는 것이다. 

인프라적인 고민에서 선택이 필요하다. 

제공하고자 하는 서비스가 더 높은 성능을 필요로 한다면 SSD, 혹은 굳이 몇 초 늦어져도 상관이 없다면 HDD를 사용한다.

예를 들어 이전의 데이터를 저장하는 아카이브 스토리지라면 굳이 SSD가 아닌 `HDD스토리지`를 써도 되는 것이다. AWS는 아카이브 상품이 따로 존재하고, 장기 보관을 목적으로 하는 HDD 사용

***다른 유저의 서버에 스토리지 추가***

---

![적용 서버 선택 : 블록 스토리지를 적용할 서버를 선택한다.](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%209.png)

적용 서버 선택 : 블록 스토리지를 적용할 서버를 선택한다.

네이버 클라우드에서는 한 서버에 블록 스토리지는 16(기본 스토리지 포함)개를 넘길 수 없다.

즉, 추가 블록 스토리지는 15개이다.

![Untitled](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%2010.png)

***파일시스템 마운트***

---

파일을 저장하기 위해서

현재 윈도우의 파일 시스템은 `NTFS`형태이다.

블록 스토리지를 파일 시스템으로 포맷팅을 해서 파일 시스템 내부의 파일을 사용한다.

공인 ip할당 - ACG설정 - 22번 포트에 대해 공인 아이피 설정 (혹은 0.0.0.0/0설정)

![Untitled](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%2011.png)

인증키 확인

![Untitled](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%2012.png)

푸티 접속이후 본격적인 마운트를 시작한다. 

sudo -i 로 관리자 접속

lsblk 

한 개의 디스크만 보인다. 

![Untitled](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%2013.png)

xvdb1 타입으로  포맷한다.

UUID는 유일한 이름 

6번에서 cannot create directory ‘/data’: File exists 8번????

완전 동일한 파일을 동시에 접근해서 쓰는 건 안된다. ???

마운트 정보 유지 설정 

UUID 복사해두고 

컴퓨터에 USB를 꽂았다. 처음에는 디스크에 보이지 않았지만 시간이 지난 뒤 뜬다.

mount는 윈도우에서는 자동으로 되지만 리눅스에서는 수동으로 설정해줘야 한다. 

장치의 물리적 이름 , data의 위치를 마운트 해준다. 

fstab

서버를 껐다 켠다고 가정해보자. 

mount명령어를 또 해줘야 한다. 그래서 특정 파일에 설정을 등록해주는 것이다. 자동 마운트 설정 

일회성 마운트냐, 다회성 마운트냐의 차이.

다운받았던 사진파일을 서버에 있는 데이터에 옮길 것이다.

파일을 옮기는 방법 중 가장 대표적인 것은 `FTP` 라는 프로그램이다. FTP를 쓸 거라면 프로그램이 있으면 좋다. `알드라이브`, 혹은 `파일질라` (GUI 기반)

윈도우는 cmd, 맥은 터미널을 열어 작업해보자.

```java
sftp
```

![Untitled](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%2014.png)

디렉토리 이동

이미지를 바탕화면에 옮겨둔다. 이미지 파일 → 속성 → 포맷까지 복사해둔다. 

파일 형식 자체를 복사해서 붙여넣는다. 

```java
C:\Users\user\Desktop>sftp ncloud@118.67.155.105
```

![Untitled](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%2015.png)

```java
sftp> ls
sftp> pwd
```

![Untitled](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%2016.png)

이미지의 이름 붙여넣기

```java
sftp> put Campsis_grandiflora_09_7_3.jpg
```

![Untitled](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%2017.png)

옮기기

```java
sftp> mv Campsis_grandiflora_09_7_3.jpg /data

exit
```

서버 운영 시 쌓이는 데이터를 로컬 스토리지에 저장하는 것은 매우 좋지 않다. 

그래서 블록 스토리지를 붙여서 특별한 다른 영역에 파일 시스템을 만들고 그곳에서 파일을 관리하는 것이다. 이렇게 따로 관리하는 파일에는 홈페이지 등을 만들 때 이미지를 넣을 수 있고 해당 이미지를 띄울 수도 있다. 

이렇게 하면 서버 자체에서만 저장이 된다. 만약 서버가 두 대 이상인 상태에서 동일한 웹서비스를 한다면 양쪽 서버에 두 개의 동일한 파일이 존재해야 한다는 것을 의미한다. 이것은 용량의 낭비이다.  게다가 누군가가 한 서버의 파일을 변경했다면 파일의 내용이 달라지는 일이 발생한다. 이런 문제를 해결하는 것이 공유 파일 시스템이다. 

### ***NAS***

---

 동시에 여러 서버, 사용자가 같은 파일을 읽고 변경할 수 있다. 네트워크 기술과 파일 시스템 NFS(네이버 클라우드에서는 NAS) 덕분에 동시 읽기가 가능하다.  

즉, 두 개 이상의 서버가 파일을 공유한다. 파일 시스템 내부의 파일을 다른 사람과 공유할 수 있다. 

MOUNT : 파일 시스템을 쓰는 방법

F드라이브에는 다른 사람이 접근할 수 없다. 왜냐하면 mount하기 위해서 USB를 뽑는 것과 마찬가지. 동일한 데이터에 대해 두 번 마운트할 수 없다. → 다른 서버가 동일한 데이터에 대해 마운트 할 수 없다? 

웹서비스에서 사용자가 

VPN

VPN은 보안에서 굉장히 중요하다. 

비공인 IP는 네이버 클라우드 내부에서만 사용할 수 있는 IP이다.  이는 사설망이라고 하는데, 사설망의 ip대역은 공인 ip대역과는 다르다. 사설망에 붙는 방법 두 가지는 SSN VPN과 IPSec VPN

네이버에서 10대역에? 접속하기 위해서는 VPN을 사용해야 한다.

SSN VPN

VPN기계가 한 대 필요

IPSec VPN

기계가 나에게 한 대 상대방에게도 한 대 필요

NAT Gateway

사설망 `10` `171` `192` 대역 내에 있는 ip는 사설 내부용 IP. ip대역이 맞으면 접속할 수 있다…? 사설 IP의 특징 중 하나는 인터넷을 할 수 없다는 것이다. 사설 ip는 바깥 망과 통신할 수 없다. 그런데 외부와 통신할 수 있도록 도와주는 것이 바로 `NAT`이다.

서버를 생성한 상태에서 `10` 대역으로는 `yum`명령어도 사용할 수 없다. 원래는 공인 ip가 있어야 외부 서버와 통신할 수 있는데 NAT가 비공인 ip(사설망)들이 외부와 통신할 수 있도록 해준다.  

기능 1: 사설 ip가 외부로 사용될 수 있게 해준다.

이외에 여러가지 기능이 있지만 일단 여기까지 알아두자. 

### 로드 밸런서

---

로드 밸런서 상품은 굉장히 중요하다. 로드 밸런서는 `부하분산` 기능을 한다. 

평균적으로 10명의 이용자가 발생하던 서버에 갑자기 500명이 들어온다고 가정하자. 웹서비스라는 프로세스가 죽거나 운영체제에 hang이 걸리게 된다. → 프로세스를 다시 실행하거나 운영체제를 다시 시작해야 한다. 500명이 올 때마다 같은 동작을 반복하는 것은 매우 비효율적이다. 이를 해결하기 위한 두 가지 방법이 있다.

 

scale-up (수평확장)

기존 `하드웨어`를 보다 높은 사양으로 업그레이드하는 것. 즉 스펙을 올리는 방식. 한계가 존재한다.

scale-out (수직확장)

서버를 하나 더 구매한다. 

웹 서버를 두 개 사용해야 하는데 어떻게? 첫 번째로 ip를 하나씩 주는 방법이 있다. a서버에 접속할 수 있는 부하를 줄이는 것이다.

그러나 문제가 발생할 수 있다. a서버에 들어가던 이용자가 부하 분산에 의해 b서버에 접속하게 된다면 a서버의 작업 내역이 날아가는 것이다. Ex) 세션이 끊어지는 바람에 b서버에 접속하게 된이용자가 a서버에 저장한 장바구니 내역이 날아감.

부하 분산에는 여러가지 알고리즘이 존재한다. 그 중 하나는 라운드 로빈 방식이다. 순차적으로 서버에 부하를 분산해주는 것이다. 

로드 밸런스를 사용하는 이유는 부하를 분산하지 않으면 여러 문제가 발생할 수 있기 때문이다. 

부하분산 실습을 위해 서버 두 대를 만들자. 

***init스크립트 등록***

```java
#!/bin/bash
yum -y install httpd
systemctl start httpd

cat << EOF > /var/www/html/index.html
<p style="font-size:34px; color:red;" >`hostname`</p>
<p style="font-size:20px; color:darkviolet">`hostname -I`</p>
EOF
```

서버 두 개를 적용하여 서버를 생성한다. 

![원활한 실습을 위해 ACG를 새로 설정하여 수강생들의 환경을 똑같이 세팅한다. ](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%2018.png)

원활한 실습을 위해 ACG를 새로 설정하여 수강생들의 환경을 똑같이 세팅한다. 

각 서버에 공인 아이피를 할당받고 공인 아이피를 브라우저에 붙여넣기 하여 확인해보자. 

![서버1 접속 성공](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%2019.png)

서버1 접속 성공

![서버2 접속 성공](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%2020.png)

서버2 접속 성공

공인 아이피로만 아이피를 늘리는 데에는 한계가 있다. 또, 해당 방법은 개발에도 어려움을 줄 수 있다. 

서버 생성한 뒤에 `선택한 acg`를 바꿀 수는 없지만 선택한 `acg의 설정`을 바꿀 수는 있다. 그러나 좋은 방법은 아니다. 해당 서버에는 어떤 ip만 허용할 것이라는 점을 설계 단계에서 염두에 두고 서버를 생성하는 게 좋다.

로드 밸랜서 생성

로드밸런서 포트

로드 밸런서가 받을 포트

바꿀 수 있지만 http의 디폴트 포트가 80이기 때문에 바꾸지 않는 것을 추천한다. 

서버포트

열려있는 포트

대신 서버에서 운영되고 있는 것이 80인데 

lb의 타겟을 정한다

![Untitled](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%2021.png)

로드밸런서 생성 후 `접속정보` 붙여넣기 → 새로고침

새로 고침 시마다 호스트명이 바뀌는 것을 확인할 수 있다.

부하가 분산되는 것이다.

로드밸런서가 있다면 공인IP를 굳이 사용할 필요가 사라진다. 따라서 서버에 있는 공인 IP를 설정해제해도 된다. 

스프링 프레임워크에서도 부하분산은 가능하지만 로드밸런스라는 상품을 통한 부하분산도 가능하다.

# Database

---

한 개의 서버에서 모든 것을 하는 것이 1_Tier

cloud DB for MySQL

DBS 생성

init Script에 등록

```java
#!/bin/bash

yum -y install httpd php php-mysql
systemctl enable httpd
systemctl start httpd

cd ~
wget https://wordpress.org/wordpress-5.1.tar.gz
tar zxvf *.tar.gz
chmod 707 -R wordpress
cp -rp wordpress/* /var/www/html/
chown -R apache.apache /var/www/html
systemctl restart httpd

echo "rew:x:0:0::/home:/bin/bash" >> /etc/passwd
echo "rewrewrewrew" | passwd rew --stdin
```

 

새로운 서버 생성

```java

```

Master, syandby Master

![Untitled](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%2022.png)

DB Server 생성 시 똑같은 DB가 두 개 있다.

마스터 : active

stanby : standby

failover는 무중단이 아니다. 약간의 시간을 제외하고 서비스를 계속 가용할 수 있다.

만약 서버로 생성했다면 모든 것을 직접 설정해야…

CDB장점

CDB는 매우 빠를 뿐만 아니라 이중화로 가용성까지 높여준다.

DB Server생성 시 필요한 복잡한 설정을 클라우드에서 클릭 몇 번으로 생성해서 쓸 수 있다.ㅇ

DB에 대한 지식이 없어도 생성 가능 

Master, syandby Master로 두 개를 만들지 않고 하나의 서버만 만드는 방법도 있지만 위험하다. 비용을 아껴도 되는 서비스인건지 혹은 가용성이 더 중요한 서비스인건지는 판단에 따라.

![Untitled](%5B%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%5D%20771633d25ac449cc94ed0f07acb09599/Untitled%2023.png)

데이터베이스 호스트 : 타겟 

로컬 호스트 : 

오류 발생!

워드 프레스 블로그가 연결되지 않는다.

네트워크적으로 안될 때 가장 먼저 확인할 것 : ACG 

CDB 생성 시 ACG가 새롭게 생성된다. 해당 ACG 파일의 접근 소스에 비공인 ip를 붙여넣고 허용 포트로 3306을 추가해준다. 왜냐하면 mySQL이 3306포트를 사용하기 때문이다. 그럼 워드프레스에서 CDB가 연결된다.  

굳이 표현한다면 2-Tier

웹서비스 - DB

# 정리

---

# 더 해야할 일

---

- [ ]  

---

***Rf***

What needs to be done next for this proposal?
